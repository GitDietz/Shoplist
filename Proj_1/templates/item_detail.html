{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block head_title %}
    {{ instance.title }} | {{ block.super }}
{% endblock head_title%}
{% block content %}
<div class="col-sm-6 col-sm-offset-3">

<h2>Item detail</h2>
    <p>
        Number {{ instance.id }} <br/>

        Requested on: {{ instance.date_requested }}<br/>
    <form method='POST' action="" >
        {% csrf_token %}
        {{ form|crispy }} <br/>
        <input type='submit' class="btn btn-secondary" value = 'Submit'>

    </form>

    </p><hr/>
    Request by:
    {% if instance.requested.get_full_name %}
        {{ instance.requested.get_full_name }}
    {% else %}
        {{ instance.requested.name }}
    {% endif %}
    <hr/>
    {% if form.errors %}
     {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <div class="alert alert-danger">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}
    {% endif %}
</div>
{% endblock content%}

